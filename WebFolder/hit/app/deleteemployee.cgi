<!--HIT_EXECUTE

ARRAY STRING(36;mUUIDStrArr;0)C_BOOLEAN(SETFLAG1)Selectedvalues:=_HIT_WebApp_GetField ("selected")API Text To Array (Selectedvalues;",";mUUIDStrArr)nSelecteditems:=Size of array(mUUIDStrArr)SETFLAG:=FalseSETFLAG1:=FalseMOBJECTRESULT:=JSON New Object READ WRITE([Employees])For (count;1;nSelecteditems)UUID:=mUUIDStrArr{count}READ WRITE([employee_manager])QUERY([Employees];[Employees]uuid=UUID)If (Records in selection([Employees])=1)QUERY([employee_manager];[employee_manager]uuid_employee=[Employees]uuid)If (Records in selection([employee_manager])=1)DELETE SELECTION([employee_manager])If (Records in selection([employee_manager])=0)SETFLAG:=TrueElse SETFLAG:=falseEnd ifEnd if DELETE SELECTION([Employees])If (Records in selection([Employees])=0)SETFLAG1:=TrueElse SETFLAG1:=FalseEnd if End if End for REDUCE SELECTION([Employees];0)REDUCE SELECTION([employee_manager];0)READ ONLY([employee_manager])READ ONLY([Employees])Case of : (SETFLAG1=True)JSON Set Text (MOBJECTRESULT;"Succ";"Permanently Deleted from Employee.")JSON Set Text (MOBJECTRESULT;"ManagerUUID";UUIDManager): (SETFLAG=True)JSON Set Text (MOBJECTRESULT;"Succ";"Employee Deleted From Manager List.")JSON Set Text (MOBJECTRESULT;"ManagerUUID";UUIDManager)Else JSON Set Text (MOBJECTRESULT;"Err";"Error in  Deleting!!")End case If (JSON Is Valid Object (MOBJECTRESULT)=1)Web_ResponseDataBLOB:=JSON Save As Blob (MOBJECTRESULT)JSON Release (MOBJECTRESULT)End if _HIT_HTTPD_SetHTTPHeader ("Content-Type";"application/json")_HIT_HTTPD_AppendResponse (->Web_ResponseDataBLOB)
-->